var MessageManager=function(){function e(){this.messageStack=[]}return e.prototype.add=function(e){var s=this;return this.set(e,!0),function(){s.remove(e)}},e.prototype._calculateMessage=function(){if(0===this.messageStack.length)return void(this.message=void 0);var e=this.messageStack[this.messageStack.length-1];this.message=e.message},e.prototype.clear=function(){this.messageStack=[],this.message=void 0},e.prototype.getOutstandingMessages=function(){for(var e={},s=0;s<this.messageStack.length;s++){var t=this.messageStack[s];e[t.message]=0;var a="+"===t.direction?1:-1;e[t.message]+=a}return e},e.prototype.remove=function(e){this.set(e,!1)},e.prototype.set=function(e,s){for(var t=s===!1?"-":"+",a=this.messageStack.length-1;a>=0;a--){var i=this.messageStack[a];if(i.message===e&&i.direction!==t)return this.messageStack.splice(a,1),void this._calculateMessage()}var n={direction:t,message:e};this.messageStack.push(n),this._calculateMessage()},e}();"object"==typeof module&&module.exports&&(module.exports=MessageManager),"function"==typeof define&&define.amd&&define("MessageManager",function(){return MessageManager});